<div class="sidebar d-flex flex-column h-100 overflow-hidden">
  <div class="sidebar-header p-4 d-flex align-items-center flex-shrink-0">
    <div class="logo-box me-3">S</div>
    <span class="fs-4 fw-bold sidebar-title">School<span class="text-primary">ERP</span></span>
  </div>

  <nav class="flex-grow-1 px-3 py-2 overflow-auto scroll-modern">
    <div class="menu-label">Main Console</div>
    <div routerLink="/dashboard" routerLinkActive="active"
      class="nav-item d-flex align-items-center p-3 mb-1 rounded-3">
      <lucide-icon [name]="dashboardIcon" class="me-3 size-20"></lucide-icon>
      <span class="nav-label">Command Center</span>
    </div>

    <div class="menu-label">Academics</div>
    <div routerLink="/students" routerLinkActive="active" class="nav-item d-flex align-items-center p-3 mb-1 rounded-3">
      <lucide-icon [name]="studentIcon" class="me-3 size-20"></lucide-icon>
      <span class="nav-label">Student Records</span>
    </div>

    <div routerLink="/attendance/mark" routerLinkActive="active"
      class="nav-item d-flex align-items-center p-3 mb-1 rounded-3">
      <lucide-icon [name]="attendanceIcon" class="me-3 size-20"></lucide-icon>
      <span class="nav-label">Daily Attendance</span>
    </div>

    <div routerLink="/timetable" routerLinkActive="active"
      class="nav-item d-flex align-items-center p-3 mb-1 rounded-3">
      <lucide-icon [name]="timetableIcon" class="me-3 size-20"></lucide-icon>
      <span class="nav-label">Time Table</span>
    </div>

    <div routerLink="/exams" routerLinkActive="active" class="nav-item d-flex align-items-center p-3 mb-1 rounded-3">
      <lucide-icon [name]="examIcon" class="me-3 size-20"></lucide-icon>
      <span class="nav-label">Examinations</span>
    </div>

    <div class="menu-label">Operations</div>
    <!-- Fees Submenu -->
    <div (click)="toggleFees()" class="nav-item d-flex align-items-center p-3 mb-1 rounded-3"
      [class.active-light]="feesExpanded">
      <lucide-icon [name]="feesIcon" class="me-3 size-20"></lucide-icon>
      <span class="nav-label flex-grow-1">Finance & Fees</span>
      <lucide-icon [name]="feesExpanded ? upIcon : downIcon" class="size-16 opacity-50"></lucide-icon>
    </div>

    <div *ngIf="feesExpanded" class="submenu mt-1">
      <div routerLink="/fees/heads" routerLinkActive="active"
        class="nav-item d-flex align-items-center p-2 mb-1 rounded-3 small">
        <span class="nav-label ps-2">Fee Configuration</span>
      </div>
    </div>

    <!-- Accounting Submenu -->
    <div (click)="toggleAccounting()" class="nav-item d-flex align-items-center p-3 mb-1 rounded-3"
      [class.active-light]="accountingExpanded">
      <lucide-icon [name]="accountingIcon" class="me-3 size-20"></lucide-icon>
      <span class="nav-label flex-grow-1">Ledger Accounts</span>
      <lucide-icon [name]="accountingExpanded ? upIcon : downIcon" class="size-16 opacity-50"></lucide-icon>
    </div>

    <div *ngIf="accountingExpanded" class="submenu mt-1">
      <div routerLink="/accounting/accounts" routerLinkActive="active"
        class="nav-item d-flex align-items-center p-2 mb-1 rounded-3 small">
        <span class="nav-label ps-2">Chart of Accounts</span>
      </div>
      <div routerLink="/accounting/journal" routerLinkActive="active"
        class="nav-item d-flex align-items-center p-2 mb-1 rounded-3 small">
        <span class="nav-label ps-2">Journal Ledger</span>
      </div>
    </div>

    <div routerLink="/transport" routerLinkActive="active"
      class="nav-item d-flex align-items-center p-3 mb-1 rounded-3">
      <lucide-icon [name]="transportIcon" class="me-3 size-20"></lucide-icon>
      <span class="nav-label">Transport Desk</span>
    </div>

    <div routerLink="/library" routerLinkActive="active" class="nav-item d-flex align-items-center p-3 mb-1 rounded-3">
      <lucide-icon [name]="libraryIcon" class="me-3 size-20"></lucide-icon>
      <span class="nav-label">Library Hub</span>
    </div>

    <div class="menu-label">Engagement</div>
    <div routerLink="/discussion" routerLinkActive="active"
      class="nav-item d-flex align-items-center p-3 mb-1 rounded-3">
      <lucide-icon [name]="discussionIcon" class="me-3 size-20"></lucide-icon>
      <span class="nav-label">Discussion Forum</span>
    </div>
    <div routerLink="/calendar" routerLinkActive="active" class="nav-item d-flex align-items-center p-3 mb-1 rounded-3">
      <lucide-icon [name]="timetableIcon" class="me-3 size-20"></lucide-icon>
      <span class="nav-label">Global Calendar</span>
    </div>

    <div class="menu-label">Support</div>
    <div routerLink="/settings" routerLinkActive="active" class="nav-item d-flex align-items-center p-3 mb-1 rounded-3">
      <lucide-icon [name]="settingsIcon" class="me-3 size-20"></lucide-icon>
      <span class="nav-label">System Settings</span>
    </div>
  </nav>

  <div class="sidebar-footer p-3 border-top">
    <div (click)="logout()" class="nav-item d-flex align-items-center p-3 rounded-3 text-danger logout-btn">
      <lucide-icon [name]="logoutIcon" class="me-3 size-20"></lucide-icon>
      <span class="nav-label fw-bold">Sign Out</span>
    </div>
  </div>
</div>