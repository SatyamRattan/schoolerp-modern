<div class="row justify-content-center">
    <div class="col-12 col-xl-10">
        <div class="card card-body border-0 shadow mb-4">
            <h2 class="h5 mb-4">New Student Admission</h2>
            <form (ngSubmit)="onSubmit()" #admissionForm="ngForm">
                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label for="firstName">First Name</label>
                        <input class="form-control" id="firstName" type="text" [(ngModel)]="student.student_first_name"
                            name="firstName" required>
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="lastName">Last Name</label>
                        <input class="form-control" id="lastName" type="text" [(ngModel)]="student.student_last_name"
                            name="lastName" required>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-4 mb-3">
                        <label for="dob">Date of Birth</label>
                        <input class="form-control" id="dob" type="date" [(ngModel)]="student.student_dob" name="dob"
                            required>
                    </div>
                    <div class="col-md-4 mb-3">
                        <label for="gender">Gender</label>
                        <select class="form-select" id="gender" [(ngModel)]="student.gender" name="gender" required>
                            <option value="">Select Gender</option>
                            <option value="Male">Male</option>
                            <option value="Female">Female</option>
                            <option value="Other">Other</option>
                        </select>
                    </div>
                    <div class="col-md-4 mb-3">
                        <label for="year">Academic Year (Date)</label>
                        <input class="form-control" id="year" type="date" [(ngModel)]="student.year" name="year"
                            required>
                    </div>
                </div>

                <h2 class="h6 my-4">Academic Details</h2>
                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label for="class">Class</label>
                        <select class="form-select" id="class" [(ngModel)]="student.student_class" name="class"
                            required>
                            <option value="">Select Class</option>
                            <!-- Assuming class backend returns objects with ID, but we bind ID or object? 
                                 Backend expects CharField for 'student_class' in model, but traditionally it's FK.
                                 Let's check model. Model says 'student_class = models.CharField(max_length=10)'.
                                 So we bind class_num or id? Likely 'class_num' based on string representation.
                            -->
                            <option *ngFor="let cls of classes" [value]="cls.id">{{ cls.class_num }}</option>
                        </select>
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="section">Section</label>
                        <select class="form-select" id="section" [(ngModel)]="student.student_section" name="section"
                            required>
                            <option value="">Select Section</option>
                            <option *ngFor="let sec of sections" [value]="sec.id">{{ sec.section_name }}</option>
                        </select>
                    </div>
                </div>

                <h2 class="h6 my-4">Parents Details</h2>
                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label for="fatherName">Father's Name</label>
                        <input class="form-control" id="fatherName" type="text" [(ngModel)]="student.fathers_first_name"
                            name="fatherName" required>
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="fatherMobile">Father's Mobile</label>
                        <input class="form-control" id="fatherMobile" type="text" [(ngModel)]="student.f_mobile"
                            name="fatherMobile" required>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label for="motherName">Mother's Name</label>
                        <input class="form-control" id="motherName" type="text" [(ngModel)]="student.mothers_first_name"
                            name="motherName" required>
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="motherMobile">Mother's Mobile</label>
                        <input class="form-control" id="motherMobile" type="text" [(ngModel)]="student.m_mobile"
                            name="motherMobile" required>
                    </div>
                </div>

                <h2 class="h6 my-4">Address</h2>
                <div class="row">
                    <div class="col-md-4 mb-3">
                        <label for="houseNo">House No</label>
                        <input class="form-control" id="houseNo" type="text" [(ngModel)]="student.house_no"
                            name="houseNo" required>
                    </div>
                    <div class="col-md-8 mb-3">
                        <label for="street">Street & Area</label>
                        <input class="form-control" id="street" type="text" [(ngModel)]="student.street_name"
                            name="street" required>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-3 mb-3">
                        <label for="city">City</label>
                        <input class="form-control" id="city" type="text" [(ngModel)]="student.city" name="city"
                            required>
                    </div>
                    <div class="col-md-3 mb-3">
                        <label for="state">State</label>
                        <input class="form-control" id="state" type="text" [(ngModel)]="student.state" name="state"
                            required>
                    </div>
                    <div class="col-md-3 mb-3">
                        <label for="zip">Zip Code</label>
                        <input class="form-control" id="zip" type="text" [(ngModel)]="student.zip_code" name="zip"
                            required>
                    </div>
                    <div class="col-md-3 mb-3">
                        <label for="country">Country</label>
                        <input class="form-control" id="country" type="text" [(ngModel)]="student.country"
                            name="country" required>
                    </div>
                </div>

                <h2 class="h6 my-4">Other Details</h2>
                <div class="row">
                    <div class="col-md-4 mb-3">
                        <label for="caste">Caste</label>
                        <select class="form-select" id="caste" [(ngModel)]="student.caste" name="caste" required>
                            <option *ngFor="let c of castes" [value]="c.id">{{ c.caste_name }}</option>
                        </select>
                    </div>
                    <div class="col-md-4 mb-3">
                        <label for="category">Category</label>
                        <select class="form-select" id="category" [(ngModel)]="student.category" name="category"
                            required>
                            <option *ngFor="let cat of categories" [value]="cat.id">{{ cat.category_name }}</option>
                        </select>
                    </div>
                    <div class="col-md-4 mb-3">
                        <label for="house">House</label>
                        <select class="form-select" id="house" [(ngModel)]="student.house" name="house" required>
                            <option *ngFor="let h of houses" [value]="h.id">{{ h.house_name }}</option>
                        </select>
                    </div>
                </div>

                <div class="mt-3">
                    <button type="submit" class="btn btn-primary" [disabled]="!admissionForm.valid">Submit
                        Application</button>
                </div>
            </form>
        </div>
    </div>
</div>