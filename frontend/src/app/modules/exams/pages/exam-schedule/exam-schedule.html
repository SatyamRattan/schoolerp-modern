<div class="row">
    <div class="col-12 col-xl-8">
        <div class="card card-body border-0 shadow mb-4">
            <h2 class="h5 mb-4">Exam Schedule</h2>

            <form [formGroup]="scheduleForm" (ngSubmit)="onSubmit()" class="mb-4">
                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label class="form-label">Subject</label>
                        <select class="form-select" formControlName="subject">
                            <option value="">Select Subject</option>
                            <option value="1">Maths (Mock)</option>
                            <!-- TODO: Iterate subjects -->
                        </select>
                    </div>
                    <div class="col-md-6 mb-3">
                        <label class="form-label">Section</label>
                        <select class="form-select" formControlName="section">
                            <option value="">Select Section</option>
                            <option value="1">A (Mock)</option>
                            <!-- TODO: Iterate sections -->
                        </select>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-4 mb-3">
                        <label class="form-label">Date</label>
                        <input type="date" class="form-control" formControlName="date">
                    </div>
                    <div class="col-md-4 mb-3">
                        <label class="form-label">Start Time</label>
                        <input type="time" class="form-control" formControlName="start_time">
                    </div>
                    <div class="col-md-4 mb-3">
                        <label class="form-label">End Time</label>
                        <input type="time" class="form-control" formControlName="end_time">
                    </div>
                </div>
                <button type="submit" class="btn btn-primary" [disabled]="scheduleForm.invalid">Add Schedule</button>
            </form>

            <h3 class="h6">Current Schedule</h3>
            <div class="table-responsive">
                <table class="table table-centered table-nowrap mb-0 rounded">
                    <thead>
                        <tr>
                            <th>Subject</th>
                            <th>Section</th>
                            <th>Date</th>
                            <th>Time</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let s of schedules">
                            <td>{{ s.subject_name }}</td>
                            <td>{{ s.section_name }}</td>
                            <td>{{ s.date | date }}</td>
                            <td>{{ s.start_time }} - {{ s.end_time }}</td>
                            <td>
                                <button class="btn btn-sm btn-outline-danger" (click)="deleteSchedule(s.id!)">
                                    <lucide-angular [img]="Trash2" class="icon icon-xs"></lucide-angular>
                                </button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>